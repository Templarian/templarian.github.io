{"version":3,"file":"mdi-stack.js","sources":["../src/mdi-stack.ts","../src/Component.ts"],"sourcesContent":["import Component from \"./Component\";\n\n@Component({\n    selector: 'mdi-stack',\n    template: `<div>Stack</div>`,\n    style: `:host {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background: #009cff;     \n      padding: 16px;         \n      border-top: 1px solid black;\n      font-size: 24px;\n    }`,\n    useShadow: true\n})\nclass MdiStack extends HTMLElement {\n    connectedCallback() {\n        const elm = document.createElement('h3');\n        elm.textContent = 'Boo!';\n        this.shadowRoot.appendChild(elm);\n        console.log('connected callback');\n    }\n\n    disconnectedCallback() {\n        console.log('disconnected callback');\n    }\n\n    componentWillMount() {\n        console.log('component will mount');\n    }\n\n    componentDidMount() {\n        console.log('component did mount');\n    }\n\n    componentWillUnmount() {\n        console.log('component will unmount');\n    }\n\n    componentDidUnmount() {\n        console.log('component did unmount');\n    }\n}\n","interface CustomElementConfig {\r\n  template: string;\r\n  style?: string;\r\n}\r\n\r\nexport default (config: CustomElementConfig) => (cls) => {\r\n  if (!config.template) {\r\n      throw new Error('You need to pass a template for the element');\r\n  }\r\n  const template = document.createElement('template');\r\n  if (config.style) {\r\n      config.template = `<style>${config.style}</style>${config.template}`;\r\n  }\r\n  template.innerHTML = config.template;\r\n\r\n  const connectedCallback = cls.prototype.connectedCallback || (() => {});\r\n  const disconnectedCallback = cls.prototype.disconnectedCallback || (() => {});\r\n\r\n  cls.prototype.connectedCallback = function() {\r\n      const clone = document.importNode(template.content, true);\r\n      this.attachShadow({mode: 'open'}).appendChild(clone);\r\n\r\n      if (this.componentWillMount) {\r\n          this.componentWillMount();\r\n      }\r\n      connectedCallback.call(this);\r\n      if (this.componentDidMount) {\r\n          this.componentDidMount();\r\n      }\r\n  };\r\n\r\n  cls.prototype.disconnectedCallback = function() {\r\n      if (this.componentWillUnmount) {\r\n          this.componentWillUnmount();\r\n      }\r\n      disconnectedCallback.call(this);\r\n      if (this.componentDidUnmount) {\r\n          this.componentDidUnmount();\r\n      }\r\n  };\r\n\r\n  cls.prototype.attributeChangedCallback = function(name, oldValue, newValue) {\r\n    this.attributeChangedCallback(name, oldValue, newValue);\r\n  }\r\n\r\n  Object.defineProperty(cls, \"observedAttributes\", {\r\n    get: function () {\r\n        return ['path'];\r\n    }\r\n  });\r\n};\r\n\r\nexport const Prop = () => (target: any, key: string, descriptor: PropertyDescriptor) => {\r\n  const getter = function (this: HTMLElement) {\r\n    return this.getAttribute(key);\r\n  }\r\n  const setter = function (this: HTMLElement, newVal) {\r\n    this.setAttribute(key, newVal);\r\n  }\r\n  descriptor = descriptor || {};\r\n  descriptor.get = getter;\r\n  descriptor.set = setter;\r\n  return descriptor;\r\n};\r\n"],"names":["MdiStack","HTMLElement","[object Object]","elm","document","createElement","textContent","this","shadowRoot","appendChild","console","log","config","cls","template","Error","style","innerHTML","connectedCallback","prototype","disconnectedCallback","clone","importNode","content","attachShadow","mode","componentWillMount","call","componentDidMount","componentWillUnmount","componentDidUnmount","attributeChangedCallback","name","oldValue","newValue","Object","defineProperty","get","Component","selector","useShadow"],"mappings":"AAiBA,IAAMA,EAAN,cAAuBC,YACnBC,oBACI,MAAMC,EAAMC,SAASC,cAAc,MACnCF,EAAIG,YAAc,OAClBC,KAAKC,WAAWC,YAAYN,GAC5BO,QAAQC,IAAI,sBAGhBT,uBACIQ,QAAQC,IAAI,yBAGhBT,qBACIQ,QAAQC,IAAI,wBAGhBT,oBACIQ,QAAQC,IAAI,uBAGhBT,uBACIQ,QAAQC,IAAI,0BAGhBT,sBACIQ,QAAQC,IAAI,2BAzBdX,uUCZS,CAACY,GAAiCC,IAC/C,IAAKD,EAAOE,SACR,MAAM,IAAIC,MAAM,+CAEpB,MAAMD,EAAWV,SAASC,cAAc,YACpCO,EAAOI,QACPJ,EAAOE,mBAAqBF,EAAOI,gBAAgBJ,EAAOE,YAE9DA,EAASG,UAAYL,EAAOE,SAE5B,MAAMI,EAAoBL,EAAIM,UAAUD,4BAClCE,EAAuBP,EAAIM,UAAUC,+BAE3CP,EAAIM,UAAUD,kBAAoB,WAC9B,MAAMG,EAAQjB,SAASkB,WAAWR,EAASS,SAAS,GACpDhB,KAAKiB,aAAa,CAACC,KAAM,SAAShB,YAAYY,GAE1Cd,KAAKmB,oBACLnB,KAAKmB,qBAETR,EAAkBS,KAAKpB,MACnBA,KAAKqB,mBACLrB,KAAKqB,qBAIbf,EAAIM,UAAUC,qBAAuB,WAC7Bb,KAAKsB,sBACLtB,KAAKsB,uBAETT,EAAqBO,KAAKpB,MACtBA,KAAKuB,qBACLvB,KAAKuB,uBAIbjB,EAAIM,UAAUY,yBAA2B,SAASC,EAAMC,EAAUC,GAChE3B,KAAKwB,yBAAyBC,EAAMC,EAAUC,IAGhDC,OAAOC,eAAevB,EAAK,qBAAsB,CAC/CwB,IAAK,WACD,MAAO,CAAC,YD7CfC,CAAU,CACPC,SAAU,YACVzB,SAAU,mBACVE,MAAO,2NAUPwB,WAAW,KAETxC"}