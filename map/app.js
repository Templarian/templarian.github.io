!function(t){function e(e){for(var i,r,a=e[0],l=e[1],d=e[2],c=0,u=[];c<a.length;c++)r=a[c],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(h&&h(e);u.length;)u.shift()();return o.push.apply(o,d||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,a=1;a<s.length;a++){var l=s[a];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},n={1:0},o=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var h=l;o.push([5,0,2]),s()}({5:function(t,e,s){t.exports=s(6)},6:function(t,e,s){"use strict";s.r(e);var i=s(0),n=s(2);var o=[function(t,e,s){return(s?":host{display:block;height:100%}":t+"{display:block;height:100%}")+".link"+e+"{border:none;padding:10px;border-radius:5px;text-decoration:none;background-color:#ff6000;color:#fff;margin-left:33%;margin-right:33%;display:inline-block;margin-top:1em}.info"+e+"{color:#000;background-color:#e4f2f8;margin:auto;padding:15px 10px;text-align:left;width:300px;border-radius:5px}.code"+e+"{font-family:monospace;font-size:large}.container"+e+"{margin-top:30px}img"+e+"{max-width:150px}.greeting"+e+"{height:75px}section"+e+"{padding:1rem;margin:1rem;background:#fff;border-radius:.5rem;box-shadow:0 1px 4px rgba(0,0,0,.2)}section"+e+" h2"+e+"{margin:0 0 .5rem;font-weight:400}section"+e+" h3"+e+"{margin:.75rem 0 .5rem;font-weight:400}"}];var r=[function(t,e,s){return s?":host{display:grid;grid-template-columns:var(--grid-offset-x,0) repeat(var(--grid-width,3),4rem);grid-template-rows:var(--grid-offset-y,0) repeat(var(--grid-height,3),4rem);overflow:hidden;height:100vh;background-color:#fff;background-image:url(resources/tiles/paper-dots.svg);background-repeat:repeat;background-position:var(--offset-x,0) var(--offset-y,0);box-shadow:0 0 .5rem rgba(0,0,0,.3);justify-items:end;align-items:end}":t+"{display:grid;grid-template-columns:var(--grid-offset-x,0) repeat(var(--grid-width,3),4rem);grid-template-rows:var(--grid-offset-y,0) repeat(var(--grid-height,3),4rem);overflow:hidden;height:100vh;background-color:#fff;background-image:url(resources/tiles/paper-dots.svg);background-repeat:repeat;background-position:var(--offset-x,0) var(--offset-y,0);box-shadow:0 0 .5rem rgba(0,0,0,.3);justify-items:end;align-items:end}"}];function a(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var l=Object(i.registerTemplate)(a);a.slots=[""],a.stylesheets=[],r&&a.stylesheets.push.apply(a.stylesheets,r),a.stylesheetTokens={hostAttribute:"map-world-_world-host",shadowAttribute:"map-world-_world"};class d extends i.LightningElement{constructor(){super(),this.$world=null,this.$hash="3, 3",this.offsetX=0,this.offsetY=0,this.isDragging=!1,this.mouseX=0,this.mouseY=0,this.mouseDownHandler=this.handleMouseDown.bind(this),this.mouseUpHandler=this.handleMouseUp.bind(this),this.mouseMoveHandler=this.handleMouseMove.bind(this),this.addTileHandler=this.handleAddTile.bind(this)}get hash(){return this.$hash}set hash(t){if(this.$world){const t=this.template.host;t.style.setProperty("--grid-width",`${this.$world.width}`),t.style.setProperty("--grid-height",`${this.$world.height}`)}this.$hash=t}get world(){return this.$world}set world(t){if(t){const e=this.template.host.getBoundingClientRect(),s=64*t.width,i=64*t.height;this.offsetX=Math.floor(e.width/2-s/2),this.offsetY=Math.floor(e.height/2-i/2);const n=this.template.host,o=Math.floor(this.offsetX%64),r=Math.floor(this.offsetY%64);n.style.setProperty("--offset-x",`${o}px`),n.style.setProperty("--offset-y",`${r}px`),n.style.setProperty("--grid-offset-x",`${this.offsetX}px`),n.style.setProperty("--grid-offset-y",`${this.offsetY}px`),n.style.setProperty("--grid-width",`${t.width}`),n.style.setProperty("--grid-height",`${t.height}`)}this.$world=t}connectedCallback(){this.template.host.addEventListener("mousedown",this.mouseDownHandler),this.template.host.addEventListener("mouseup",this.mouseUpHandler),this.template.host.addEventListener("mousemove",this.mouseMoveHandler),this.addEventListener("addtile",this.addTileHandler)}handleMouseDown(t){this.isDragging=!0,this.mouseX=t.clientX,this.mouseY=t.clientY}handleMouseUp(t){this.isDragging=!1}handleMouseMove(t){this.isDragging&&(this.updateOffset(t.clientX-this.mouseX,t.clientY-this.mouseY),this.mouseX=t.clientX,this.mouseY=t.clientY)}updateOffset(t,e){const s=this.template.host,i=s.getBoundingClientRect(),{width:n,height:o}=this.$world;this.offsetX+=t,this.offsetY+=e;let r=this.offsetX;r<0&&(64*n>i.width?r=64-Math.abs(r%64):this.offsetX=r=0);let a=this.offsetY;a<0&&(64*o>i.height?a=64-Math.abs(a%64):this.offsetY=a=0);const l=Math.floor(r%64),d=Math.floor(a%64);s.style.setProperty("--offset-x",`${l}px`),s.style.setProperty("--offset-y",`${d}px`),s.style.setProperty("--grid-offset-x",`${r}px`),s.style.setProperty("--grid-offset-y",`${a}px`)}handleAddTile(t){const{minX:e,minY:s}=this.$world;e-1===t.detail.x&&this.updateOffset(-64,0),s-1===t.detail.y&&this.updateOffset(0,-64)}}Object(i.registerDecorators)(d,{publicProps:{hash:{config:3},world:{config:3}},track:{isDragging:1},fields:["$world","$hash","offsetX","offsetY","mouseX","mouseY"]});var h=Object(i.registerComponent)(d,{tmpl:l});var c=[function(t,e,s){return(s?":host{display:flex;width:4rem;height:4rem;grid-column:var(--column,1);grid-row:var(--row,1);order:0}":t+"{display:flex;width:4rem;height:4rem;grid-column:var(--column,1);grid-row:var(--row,1);order:0}")+(s?":host(:hover){order:1}":t+":hover{order:1}")+"button.tile"+e+"{display:flex;padding:0;width:4rem;height:4rem;outline:none;background:transparent;cursor:inherit;border:0}button.tile:hover"+e+':before{content:" ";display:block;position:absolute;width:4rem;height:4rem;border:.25rem solid #fff;margin-left:-.25rem;margin-top:-.25rem;border-radius:.25rem;box-shadow:0 0 .5rem rgba(0,0,0,.5)}button.tile'+e+" img"+e+"+img"+e+",button.tile"+e+" span"+e+"{margin-left:-4rem}button.tile"+e+" span"+e+"{display:flex;width:4rem;height:4rem;align-items:center;justify-content:center}.wall"+e+"{display:flex;flex-direction:column}.wall"+e+">div"+e+"{display:flex;flex-direction:row}.wall"+e+" button"+e+"{padding:0;border:0;width:2.5rem;height:2.5rem;border:.25rem solid #fff;cursor:pointer}.wall"+e+" div:not(:last-child)"+e+"{margin-bottom:-.25rem}.wall"+e+" button:not(:last-child)"+e+"{margin-right:-.25rem}.wall"+e+" button:hover"+e+"{border-color:rgba(20,146,230,.5);border-radius:2px;z-index:1}.comment"+e+"{width:24px;height:24px;position:absolute;margin-left:40px;fill:rgba(255,200,0,.5)}"}];var u=[function(t,e,s){return(s?":host{display:inline-flex;vertical-align:middle}":t+"{display:inline-flex;vertical-align:middle}")+(s?":host(.block){display:flex}":t+".block{display:flex}")}];function m(t,e,s,i){const{b:n,s:o}=t,{_m0:r,_m1:a}=i;return[o("",{key:0,on:{slotchange:r||(i._m0=n(e.handleSlotChange))}},[],s),e.isOpen?o("menu",{attrs:{name:"menu"},key:1,on:{slotchange:a||(i._m1=n(e.handleMenuSlotChange))}},[],s):null]}var p=Object(i.registerTemplate)(m);m.slots=["","menu"],m.stylesheets=[],u&&m.stylesheets.push.apply(m.stylesheets,u),m.stylesheetTokens={hostAttribute:"ui-dropdown-_dropdown-host",shadowAttribute:"ui-dropdown-_dropdown"};var g=s(3);const b="bottom-start";class f extends i.LightningElement{constructor(){super(),this.$menu=null,this.$menuFocus=!1,this.$menuButton=null,this.block=!1,this.placement=b,this.offsetTop=0,this.offsetLeft=0,this.isOpen=!1,this.flipped=!1,this.clickHandler=this.handleClick.bind(this),this.mouseDownHandler=this.handleMouseDown.bind(this),this.contextMenuHandler=this.handleContextMenu.bind(this),this.mouseEnterMenuHandler=this.handleMouseEnterMenu.bind(this),this.mouseLeaveMenuHandler=this.handleMouseLeaveMenu.bind(this)}renderedCallback(){this.block&&this.template.host.classList.add("block")}handleClick(t){const e=t.currentTarget;console.log(t.target,e),this.isOpen&&this.$menuFocus?this.isOpen=!1:this.isOpen=!0}handleContextMenu(){this.isOpen=!1}handleMouseDown(t){this.$menuFocus||(this.isOpen=!1,document.removeEventListener("mousedown",this.mouseDownHandler),document.removeEventListener("contextmenu",this.contextMenuHandler))}handleSlotChange(t){const e=this.template.childNodes[1].assignedElements()[0];e.addEventListener("click",this.clickHandler),e.addEventListener("mouseenter",this.mouseEnterMenuHandler),e.addEventListener("mouseleave",this.mouseLeaveMenuHandler),e.classList.add("dropdown"),e.classList.add(`dropdown-${this.placement}`),this.block&&e.classList.add("block"),this.$menuButton=e}handleMenuSlotChange(t){const e=this.template.childNodes[2];if(e){const t=e.assignedElements();if(0===t.length)throw new Error("dropdown missing menu slot.");if(t.length>1)throw new Error("dropdown must only contain one root element in the menu slot.");const s=t[0];document.addEventListener("mousedown",this.mouseDownHandler),document.addEventListener("contextmenu",this.contextMenuHandler),new g.a(this.$menuButton,s,{placement:this.placement,modifiers:{computeStyle:{gpuAcceleration:!1},offset:{offset:`${this.offsetLeft}px, ${this.offsetTop}px`}},onCreate:this.onPopperCreate.bind(this),onUpdate:this.onPopperUpdate.bind(this)}),s.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),s.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),s.addEventListener("click",this.handleMouseClick.bind(this)),this.$menu=s}}onPopperCreate(t){this.flipped=t.flipped}onPopperUpdate(t){this.$menuButton.classList.remove(`dropdown-${this.placement}`),this.$menuButton.classList.add(`dropdown-${t.placement}`),this.placement=t.placement}handleMouseEnter(){this.$menuFocus=!0}handleMouseLeave(){this.$menuFocus=!1}handleMouseClick(){this.isOpen=!1,document.removeEventListener("mousedown",this.mouseDownHandler),document.removeEventListener("contextmenu",this.contextMenuHandler)}handleMouseEnterMenu(){this.$menuFocus=!0}handleMouseLeaveMenu(){this.$menuFocus=!1}}Object(i.registerDecorators)(f,{publicProps:{block:{config:0},placement:{config:0},offsetTop:{config:0},offsetLeft:{config:0}},track:{isOpen:1},fields:["$menu","$menuFocus","$menuButton","flipped"]});var y=Object(i.registerComponent)(f,{tmpl:p});var k=[function(t,e,s){return".opened"+e+"{display:block}.closed"+e+"{display:inline-block}"}];function v(t,e,s,i){const{b:n,s:o}=t,{_m0:r,_m1:a}=i;return[o("",{key:0,on:{slotchange:r||(i._m0=n(e.handleSlotChange))}},[],s),e.isOpen?o("menu",{attrs:{name:"menu"},key:1,on:{slotchange:a||(i._m1=n(e.handleMenuSlotChange))}},[],s):null]}var w=Object(i.registerTemplate)(v);v.slots=["","menu"],v.stylesheets=[],k&&v.stylesheets.push.apply(v.stylesheets,k),v.stylesheetTokens={hostAttribute:"ui-contextMenu-_contextMenu-host",shadowAttribute:"ui-contextMenu-_contextMenu"};class x extends i.LightningElement{constructor(){super(),this.$menu=null,this.$menuFocus=!1,this.$position=null,this.offsetTop=0,this.offsetLeft=0,this.isOpen=!1,this.contextMenuHandler=this.handleContextMenu.bind(this),this.mouseDownHandler=this.handleMouseDown.bind(this)}handleContextMenu(t){this.isOpen=!0,this.$position=function(t){const e=t.clientX,s=t.clientY,{scrollX:i,scrollY:n}=window;return{clientWidth:0,clientHeight:0,getBoundingClientRect(){const{scrollX:t,scrollY:o}=window;return{width:0,height:0,top:s-o+n,bottom:s-o+n,left:e-t+i,right:e-t+i}}}}(t),t.preventDefault()}handleMouseDown(t){this.$menuFocus||(this.isOpen=!1,document.removeEventListener("mousedown",this.mouseDownHandler))}handleSlotChange(t){this.template.childNodes[1].assignedElements().forEach(t=>{t.addEventListener("contextmenu",this.contextMenuHandler)})}handleMenuSlotChange(t){const e=this.template.childNodes[2];if(e){console.log("menu slot changed");const t=e.assignedElements();if(0===t.length)throw new Error("contextMenu missing menu slot.");if(t.length>1)throw new Error("contextMenu must only contain one root element in the menu slot.");const s=t[0];document.addEventListener("mousedown",this.mouseDownHandler),new g.a(this.$position,s,{placement:"bottom-start",modifiers:{computeStyle:{gpuAcceleration:!1},offset:`${this.offsetLeft}px, ${this.offsetTop}px`}}),s.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),s.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),s.addEventListener("click",this.handleMouseClick.bind(this)),this.$menu=s}}handleMouseEnter(){this.$menuFocus=!0}handleMouseLeave(){this.$menuFocus=!1}handleMouseClick(t){this.isOpen=!1,t.stopPropagation(),document.removeEventListener("mousedown",this.mouseDownHandler)}}Object(i.registerDecorators)(x,{publicProps:{offsetTop:{config:0},offsetLeft:{config:0}},track:{isOpen:1},fields:["$menu","$menuFocus","$position"]});var _=Object(i.registerComponent)(x,{tmpl:w});var C=[function(t,e,s){return s?":host{display:flex;flex-direction:column;border:1px solid #bbb;background:#fff;border-radius:.25rem;box-shadow:0 0 1.5rem rgba(0,0,0,.4);max-width:15rem;overflow:hidden}":t+"{display:flex;flex-direction:column;border:1px solid #bbb;background:#fff;border-radius:.25rem;box-shadow:0 0 1.5rem rgba(0,0,0,.4);max-width:15rem;overflow:hidden}"}];function E(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var L=Object(i.registerTemplate)(E);E.slots=[""],E.stylesheets=[],C&&E.stylesheets.push.apply(E.stylesheets,C),E.stylesheetTokens={hostAttribute:"ui-menu-_menu-host",shadowAttribute:"ui-menu-_menu"};var M=Object(i.registerComponent)(class extends i.LightningElement{},{tmpl:L});var O=[function(t,e,s){return(s?":host{display:flex}":t+"{display:flex}")+"button"+e+"{border:0;background:#fff;color:#444;padding:.75rem 1.25rem;width:100%;text-align:left}button:hover"+e+"{background:#eee}button"+e+">span"+e+"{display:flex}"}];function T(t,e,s,i){const{b:n,s:o,h:r}=t,{_m0:a}=i;return[r("button",{key:4},[r("span",{key:3},[o("left",{attrs:{name:"left"},key:0,on:{slotchange:a||(i._m0=n(e.handleLeftSlotChange))}},[],s),r("span",{key:2},[o("",{key:1},[],s)])])])]}var $=Object(i.registerTemplate)(T);T.slots=["left",""],T.stylesheets=[],O&&T.stylesheets.push.apply(T.stylesheets,O),T.stylesheetTokens={hostAttribute:"ui-menuItem-_menuItem-host",shadowAttribute:"ui-menuItem-_menuItem"};const H="default";class j extends i.LightningElement{constructor(...t){super(...t),this.variant=H}handleLeftSlotChange(t){this.template.childNodes[1].childNodes[0].childNodes[0].assignedElements().forEach(t=>{t.dispatchEvent(new CustomEvent("slot",{detail:{component:"menuItem",name:"left",variant:this.variant}}))})}}Object(i.registerDecorators)(j,{publicProps:{variant:{config:0}}});var A=Object(i.registerComponent)(j,{tmpl:$});var D=[function(t,e,s){return(s?":host{display:inline-block;width:1.5rem;height:1.5rem}":t+"{display:inline-block;width:1.5rem;height:1.5rem}")+"svg"+e+"{fill:#444}"+(s?":host(.button-slot),:host(.button-slot-left),:host(.button-slot-right){width:1rem;height:1rem}":t+".button-slot,"+t+".button-slot-left,"+t+".button-slot-right{width:1rem;height:1rem}")+(s?":host(.button-slot-left){margin-right:.25rem}":t+".button-slot-left{margin-right:.25rem}")+(s?":host(.button-slot-right){margin-left:.25rem}":t+".button-slot-right{margin-left:.25rem}")+(s?":host(.button-variant-primary) svg"+e+"{fill:#fff}":t+".button-variant-primary svg"+e+"{fill:#fff}")+(s?":host(.menuItem-slot),:host(.menuItem-slot-left),:host(.menuItem-slot-right){width:1rem;height:1rem}":t+".menuItem-slot,"+t+".menuItem-slot-left,"+t+".menuItem-slot-right{width:1rem;height:1rem}")+(s?":host(.menuItem-slot-left){margin-left:-.75rem;margin-right:.5rem}":t+".menuItem-slot-left{margin-left:-.75rem;margin-right:.5rem}")+(s?":host(.menuItem-slot-right){margin-left:.5rem;margin-right:-.75rem}":t+".menuItem-slot-right{margin-left:.5rem;margin-right:-.75rem}")}];function S(t,e,s,i){const{h:n}=t;return[n("svg",{attrs:{viewBox:"0 0 24 24"},key:1},[n("path",{attrs:{d:e.path},key:0},[])])]}var P=Object(i.registerTemplate)(S);S.stylesheets=[],D&&S.stylesheets.push.apply(S.stylesheets,D),S.stylesheetTokens={hostAttribute:"ui-icon-_icon-host",shadowAttribute:"ui-icon-_icon"};class W extends i.LightningElement{constructor(...t){super(...t),this._path=""}get path(){return this._path}set path(t){this._path=t}connectedCallback(){this.addEventListener("slot",this.slot)}slot({target:t,detail:e}){const s=t,i=e.name?`-${e.name}`:"",n=[`${e.component}-variant-${e.variant}`,`${e.component}-slot${i}`];s.className=n.join(" ")}}Object(i.registerDecorators)(W,{publicProps:{path:{config:3}},fields:["_path"]});var F=Object(i.registerComponent)(W,{tmpl:P});var B=[function(t,e,s){return s?":host{display:flex;border-top:1px solid #ddd;height:0}":t+"{display:flex;border-top:1px solid #ddd;height:0}"}];function I(t,e,s,i){const{}=t;return[]}var N=Object(i.registerTemplate)(I);I.stylesheets=[],B&&I.stylesheets.push.apply(I.stylesheets,B),I.stylesheetTokens={hostAttribute:"ui-menuSeparator-_menuSeparator-host",shadowAttribute:"ui-menuSeparator-_menuSeparator"};var R=Object(i.registerComponent)(class extends i.LightningElement{},{tmpl:N});var Y=[function(t,e,s){return(s?":host{display:inline-flex;vertical-align:middle}":t+"{display:inline-flex;vertical-align:middle}")+(s?":host(.block){display:flex}":t+".block{display:flex}")}];function X(t,e,s,i){const{b:n,s:o}=t,{_m0:r}=i;return[o("",{key:0,on:{slotchange:r||(i._m0=n(e.handleSlotChange))}},[],s)]}var U=Object(i.registerTemplate)(X);X.slots=[""],X.stylesheets=[],Y&&X.stylesheets.push.apply(X.stylesheets,Y),X.stylesheetTokens={hostAttribute:"ui-buttonGroup-_buttonGroup-host",shadowAttribute:"ui-buttonGroup-_buttonGroup"};const G="default";class V extends i.LightningElement{constructor(...t){super(...t),this.variant=G,this.block=!1}get computedClass(){return`variant-${this.variant}`}renderedCallback(){this.block&&this.template.host.classList.add("block")}handleSlotChange(t){this.template.childNodes[1].assignedElements().forEach(t=>{t.dispatchEvent(new CustomEvent("slot",{detail:{component:"buttonGroup",name:null,variant:this.variant}})),this.block&&(t.block=!0)})}}Object(i.registerDecorators)(V,{publicProps:{variant:{config:0},block:{config:0}}});var z=Object(i.registerComponent)(V,{tmpl:U});var Z=[function(t,e,s){return(s?":host{display:inline-flex;vertical-align:middle}":t+"{display:inline-flex;vertical-align:middle}")+(s?":host(.block){display:flex;flex:1}":t+".block{display:flex;flex:1}")+(s?":host(.block) button"+e+"{width:calc(100% + 1px)}":t+".block button"+e+"{width:calc(100% + 1px)}")+(s?":host(.active) button"+e+"{box-shadow:inset 0 0 .5rem rgba(0,0,0,.3);border:#fff}":t+".active button"+e+"{box-shadow:inset 0 0 .5rem rgba(0,0,0,.3);border:#fff}")+"button"+e+"{border:1px solid #ddd;border-radius:.25rem;background:#eee;padding:.5rem;color:#222}button:hover"+e+"{border-color:#bbb}button"+e+">span"+e+",button"+e+">span"+e+">span"+e+"{display:flex;align-items:center}button"+e+">span"+e+">span"+e+"{flex:1;justify-content:center}button.variant-primary"+e+"{border-color:#007bff;background-color:#007bff;color:#fff}button.variant-primary:hover"+e+"{background-color:#0069d9;border-color:#0062cc}.caret-left"+e+",.caret-right"+e+"{display:none;margin:-.25rem 0}.caret-left"+e+"{margin-left:-.25rem}.caret-right"+e+"{margin-right:-.25rem}"+(s?":host(.dropdown-bottom-start) .caret-left"+e+"{display:none}":t+".dropdown-bottom-start .caret-left"+e+"{display:none}")+(s?":host(.dropdown-bottom-start) .caret-right"+e+"{display:inline-block}":t+".dropdown-bottom-start .caret-right"+e+"{display:inline-block}")+(s?":host(.dropdown-top-start) .caret-right"+e+"{display:inline-block;transform:scaleY(-1)}":t+".dropdown-top-start .caret-right"+e+"{display:inline-block;transform:scaleY(-1)}")+(s?":host(.picker-bottom-start) .caret-left"+e+"{display:none}":t+".picker-bottom-start .caret-left"+e+"{display:none}")+(s?":host(.picker-bottom-start) .caret-right"+e+"{display:inline-block}":t+".picker-bottom-start .caret-right"+e+"{display:inline-block}")+(s?":host(.picker-top-start) .caret-right"+e+"{display:inline-block;transform:scaleY(-1)}":t+".picker-top-start .caret-right"+e+"{display:inline-block;transform:scaleY(-1)}")+(s?":host(.buttonGroup-slot) button"+e+"{border-radius:0;margin-right:-1px}":t+".buttonGroup-slot button"+e+"{border-radius:0;margin-right:-1px}")+(s?":host(.buttonGroup-slot:first-child) button"+e+"{border-radius:.25rem 0 0 .25rem}":t+":first-child.buttonGroup-slot button"+e+"{border-radius:.25rem 0 0 .25rem}")+(s?":host(.buttonGroup-slot:last-child) button"+e+"{border-radius:0 .25rem .25rem 0;margin-right:0}":t+":last-child.buttonGroup-slot button"+e+"{border-radius:0 .25rem .25rem 0;margin-right:0}")+(s?":host(.buttonGroup-slot) button:hover"+e+"{position:relative;z-index:1}":t+".buttonGroup-slot button:hover"+e+"{position:relative;z-index:1}")+(s?":host(.modalFooter-slot:not(:first-child)) button"+e+"{margin-left:.5rem}":t+":not(:first-child).modalFooter-slot button"+e+"{margin-left:.5rem}")}];function q(t,e,s,i){const{c:n,b:o,s:r,h:a}=t,{_m0:l,_m1:d,_m2:h,_m3:c}=i;return[a("button",{className:e.computedClass,key:7,on:{click:c||(i._m3=o(e.handleClick))}},[a("span",{key:6},[n("ui-icon",F,{className:e.computedCaretLeft,props:{path:e.mdiMenuDown},key:0},[]),r("left",{attrs:{name:"left"},key:1,on:{slotchange:l||(i._m0=o(e.handleLeftSlotChange))}},[],s),a("span",{key:3},[r("",{key:2,on:{slotchange:d||(i._m1=o(e.handleSlotChange))}},[],s)]),r("right",{attrs:{name:"right"},key:4,on:{slotchange:h||(i._m2=o(e.handleRightSlotChange))}},[],s),n("ui-icon",F,{className:e.computedCaretRight,props:{path:e.mdiMenuDown},key:5},[])])])]}var J=Object(i.registerTemplate)(q);q.slots=["left","","right"],q.stylesheets=[],Z&&q.stylesheets.push.apply(q.stylesheets,Z),q.stylesheetTokens={hostAttribute:"ui-button-_button-host",shadowAttribute:"ui-button-_button"};var K=s(1);const Q="default";class tt extends i.LightningElement{constructor(...t){super(...t),this.variant=Q,this.submit=!1,this._block=!1,this._active=!1,this.mdiMenuDown=K.j}get block(){return this._block}set block(t){this._block=t,this.updateHostClass()}get active(){return this._active}set active(t){this._active=t,this.updateHostClass()}handleClick(t){}get computedClass(){return`variant-${this.variant}`}get computedCaretLeft(){return`caret-left button-variant-${this.variant}`}get computedCaretRight(){return`caret-right button-variant-${this.variant}`}connectedCallback(){this.addEventListener("slot",this.slot),this.submit&&this.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("form_submit",{bubbles:!0}))})}updateHostClass(){this.block?this.template.host.classList.add("block"):this.template.host.classList.remove("block"),this.active?this.template.host.classList.add("active"):this.template.host.classList.remove("active")}slot({target:t,detail:e}){const s=t,i=e.name?`-${e.name}`:"",n=[`${e.component}-variant-${e.variant}`,`${e.component}-slot${i}`];s.className=n.join(" ")}handleLeftSlotChange(t){this.template.childNodes[1].childNodes[0].childNodes[1].assignedElements().forEach(t=>{t.dispatchEvent(new CustomEvent("slot",{detail:{component:"button",name:"left",variant:this.variant}}))})}handleSlotChange(t){this.template.childNodes[1].childNodes[0].childNodes[2].childNodes[0].assignedElements().forEach(t=>{t.dispatchEvent(new CustomEvent("slot",{detail:{component:"button",name:null,variant:this.variant}}))})}handleRightSlotChange(t){this.template.childNodes[1].childNodes[0].childNodes[3].assignedElements().forEach(t=>{t.dispatchEvent(new CustomEvent("slot",{detail:{component:"button",name:"right",variant:this.variant}}))})}}Object(i.registerDecorators)(tt,{publicProps:{variant:{config:0},submit:{config:0},block:{config:3},active:{config:3}},fields:["_block","_active","mdiMenuDown"]});var et=Object(i.registerComponent)(tt,{tmpl:J});var st=[function(t,e,s){return(s?":host{display:flex;justify-content:center;width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.6)}":t+"{display:flex;justify-content:center;width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.6)}")+"div"+e+"{align-self:center;display:block;background:#fff;width:15rem;border-radius:.5rem;box-shadow:0 .25rem .5rem rgba(0,0,0,.4);padding:1rem}"}];function it(t,e,s,i){const{s:n,h:o}=t;return[o("div",{key:1},[n("",{key:0},[],s)])]}var nt=Object(i.registerTemplate)(it);it.slots=[""],it.stylesheets=[],st&&it.stylesheets.push.apply(it.stylesheets,st),it.stylesheetTokens={hostAttribute:"ui-modal-_modal-host",shadowAttribute:"ui-modal-_modal"};class ot extends i.LightningElement{constructor(...t){super(...t),this._width="15rem",this._height="auto"}get width(){return this._width}set width(t){const e=this.template.host.childNodes[0];e&&(e.style.width=t),this._width=t}get height(){return this._height}set height(t){const e=this.template.host.childNodes[0];e&&(e.style.height=t),this._height=t}renderedCallback(){const t=this.template.childNodes[1];t.style.width=this.width,t.style.height=this.height}}Object(i.registerDecorators)(ot,{publicProps:{width:{config:3},height:{config:3}},fields:["_width","_height"]});var rt=Object(i.registerComponent)(ot,{tmpl:nt});var at=[function(t,e,s){return s?":host{display:flex}":t+"{display:flex}"}];function lt(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var dt=Object(i.registerTemplate)(lt);lt.slots=[""],lt.stylesheets=[],at&&lt.stylesheets.push.apply(lt.stylesheets,at),lt.stylesheetTokens={hostAttribute:"ui-modalBody-_modalBody-host",shadowAttribute:"ui-modalBody-_modalBody"};var ht=Object(i.registerComponent)(class extends i.LightningElement{},{tmpl:dt});var ct=[function(t,e,s){return s?":host{display:flex;justify-content:flex-end;padding-top:.5rem}":t+"{display:flex;justify-content:flex-end;padding-top:.5rem}"}];function ut(t,e,s,i){const{b:n,s:o}=t,{_m0:r}=i;return[o("",{key:0,on:{slotchange:r||(i._m0=n(e.handleSlotChange))}},[],s)]}var mt=Object(i.registerTemplate)(ut);ut.slots=[""],ut.stylesheets=[],ct&&ut.stylesheets.push.apply(ut.stylesheets,ct),ut.stylesheetTokens={hostAttribute:"ui-modalFooter-_modalFooter-host",shadowAttribute:"ui-modalFooter-_modalFooter"};class pt extends i.LightningElement{constructor(...t){super(...t),this.variant="default"}handleSlotChange(t){this.template.childNodes[1].assignedElements().forEach(t=>{t.dispatchEvent(new CustomEvent("slot",{detail:{component:"modalFooter",name:null,variant:this.variant}}))})}}Object(i.registerDecorators)(pt,{publicProps:{variant:{config:0}}});var gt=Object(i.registerComponent)(pt,{tmpl:mt});var bt=[function(t,e,s){return s?":host{display:flex;flex-direction:column}":t+"{display:flex;flex-direction:column}"}];function ft(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var yt=Object(i.registerTemplate)(ft);ft.slots=[""],ft.stylesheets=[],bt&&ft.stylesheets.push.apply(ft.stylesheets,bt),ft.stylesheetTokens={hostAttribute:"ui-form-_form-host",shadowAttribute:"ui-form-_form"};class kt extends i.LightningElement{constructor(){super(),this.inputs=[],this.addEventListener("form_register",this.handleRegister.bind(this)),this.addEventListener("form_change",this.handleChange.bind(this)),this.addEventListener("form_submit",this.handleSubmit.bind(this))}processChange({name:t,value:e,valid:s}){const i=this.inputs.find(e=>e.name===t);i?(i.value=e,i.valid=s):this.inputs.push({name:t,value:e,valid:s})}handleRegister(t){this.processChange(t.detail)}handleChange(t){this.processChange(t.detail),this.dispatchEvent(new CustomEvent("change",{detail:{inputs:this.inputs,valid:null!==this.inputs.find(t=>!t.valid)}}))}handleSubmit(){this.dispatchEvent(new CustomEvent("submit",{detail:{inputs:this.inputs,valid:null!==this.inputs.find(t=>!t.valid)}}))}}Object(i.registerDecorators)(kt,{fields:["inputs"]});var vt=Object(i.registerComponent)(kt,{tmpl:yt});var wt=[function(t,e,s){return(s?":host{display:flex;flex:1}":t+"{display:flex;flex:1}")+"textarea"+e+"{width:calc(100% - 1rem - 2px);font-size:20px;font-family:Consolas;border:1px solid #ddd;height:15rem;border-radius:.25rem;padding:.5rem}"}];function xt(t,e,s,i){const{d:n,b:o,h:r}=t,{_m0:a,_m1:l}=i;return[r("textarea",{attrs:{type:"textarea"},key:0,on:{change:a||(i._m0=o(e.handleChange)),keypress:l||(i._m1=o(e.handleChange))}},[n(e.value)])]}var _t=Object(i.registerTemplate)(xt);xt.stylesheets=[],wt&&xt.stylesheets.push.apply(xt.stylesheets,wt),xt.stylesheetTokens={hostAttribute:"ui-textarea-_textarea-host",shadowAttribute:"ui-textarea-_textarea"};class Ct extends i.LightningElement{constructor(...t){super(...t),this.name="",this.value="",this.focus=!1}handleChange(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("form_change",{bubbles:!0,detail:{name:this.name,value:this.value,valid:!0}}))}renderedCallback(){if(this.dispatchEvent(new CustomEvent("form_register",{bubbles:!0,detail:{name:this.name,value:this.value,valid:!0}})),this.focus){this.template.childNodes[1].focus()}}}Object(i.registerDecorators)(Ct,{publicProps:{name:{config:0},value:{config:0},focus:{config:0}}});var Et=Object(i.registerComponent)(Ct,{tmpl:_t});function Lt(t,e,s,i){const{k:n,h:o,i:r,d:a,f:l,b:d,c:h,t:c}=t,{_m0:u,_m1:m,_m2:p,_m3:g,_m4:b,_m5:f,_m6:k,_m7:v,_m8:w,_m9:x,_m10:C,_m11:E,_m12:L,_m13:O,_m14:T,_m15:$,_m16:H,_m17:j,_m18:D,_m19:S,_m20:P,_m21:W,_m22:B,_m23:I,_m24:N,_m25:Y,_m26:X,_m27:U,_m28:G,_m29:V,_m30:Z,_m31:q,_m32:J,_m33:K,_m34:Q,_m35:tt,_m36:st,_m37:it,_m38:nt,_m39:ot,_m40:at,_m41:lt,_m42:dt,_m43:ct,_m44:ut,_m45:mt,_m46:pt,_m47:bt,_m48:ft,_m49:yt,_m50:kt,_m51:wt,_m52:xt,_m53:_t,_m54:Ct,_m55:Lt,_m56:Mt,_m57:Ot,_m58:Tt,_m59:$t}=i;return[h("ui-dropdown",y,{key:136},[h("ui-context-menu",_,{key:15},[o("button",{className:e.computedClass,key:4,on:{click:u||(i._m0=d(e.handleClick))}},l([r(e.tile.layers,(function(t){return o("img",{attrs:{src:t.src},key:n(0,t.id)},[])})),e.tile.comment?o("svg",{classMap:{comment:!0},attrs:{viewBox:"0 0 24 24"},key:2},[o("path",{attrs:{d:"M 24,2.86102e-005L 24,20C 24,21.6569 22.6569,23 21,23C 20.1716,23 19.4216,22.6642 18.8787,22.1213L 1.87867,5.12132C 1.33578,4.57843 1,3.82842 1,3C 1,1.34315 2.34315,0 4,0L 4.01379,2.86102e-005L 24,2.86102e-005 Z "},key:1},[])]):null,o("span",{key:3},[a(e.hash)])])),h("ui-menu",M,{attrs:{slot:"menu"},key:14},[e.tile.comment?null:h("ui-menu-item",A,{key:6,on:{click:m||(i._m1=d(e.handleEditComment))}},[h("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiCommentPlus},key:5},[]),c("Add Comment")]),e.tile.comment?h("ui-menu-item",A,{key:8,on:{click:p||(i._m2=d(e.handleEditComment))}},[h("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiPencil},key:7},[]),c("Edit Comment")]):null,e.tile.comment?h("ui-menu-item",A,{key:10,on:{click:g||(i._m3=d(e.handleComment))}},[h("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiCommentRemove},key:9},[]),c("Delete Comment")]):null,e.removable?h("ui-menu-separator",R,{key:11},[]):null,e.removable?h("ui-menu-item",A,{key:13,on:{click:b||(i._m4=d(e.handleDelete))}},[h("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiDelete},key:12},[]),c("Delete Tile")]):null])]),h("ui-menu",M,{attrs:{slot:"menu"},key:135},[o("div",{styleMap:{padding:"0.5rem 0.5rem 0.25rem 0.5rem"},key:23},[h("ui-button-group",z,{props:{block:!0},key:22},[h("ui-button",et,{props:{active:e.insideActive},key:17,on:{click:f||(i._m5=d(e.handleToggleInside))}},[h("ui-icon",F,{props:{path:e.mdiBorderAll},key:16},[])]),h("ui-button",et,{props:{active:e.outsideActive},key:19,on:{click:k||(i._m6=d(e.handleToggleOutside))}},[h("ui-icon",F,{props:{path:e.mdiBorderInside},key:18},[])]),h("ui-button",et,{props:{active:e.decalActive},key:21,on:{click:v||(i._m7=d(e.handleToggleDecal))}},[h("ui-icon",F,{props:{path:e.mdiStarOutline},key:20},[])])])]),e.insideActive?o("div",{classMap:{wall:!0},key:60},[o("div",{key:32},[o("button",{attrs:{"data-wall":"9"},key:25,on:{click:w||(i._m8=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-9.svg"},key:24},[])]),o("button",{attrs:{"data-wall":"1"},key:27,on:{click:x||(i._m9=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-1.svg"},key:26},[])]),o("button",{attrs:{"data-wall":"3"},key:29,on:{click:C||(i._m10=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-3.svg"},key:28},[])]),o("button",{attrs:{"data-wall":"11"},key:31,on:{click:E||(i._m11=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-11.svg"},key:30},[])])]),o("div",{key:41},[o("button",{attrs:{"data-wall":"8"},key:34,on:{click:L||(i._m12=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-8.svg"},key:33},[])]),o("button",{attrs:{"data-wall":"0"},key:36,on:{click:O||(i._m13=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-0.svg"},key:35},[])]),o("button",{attrs:{"data-wall":"2"},key:38,on:{click:T||(i._m14=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-2.svg"},key:37},[])]),o("button",{attrs:{"data-wall":"10"},key:40,on:{click:$||(i._m15=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-10.svg"},key:39},[])])]),o("div",{key:50},[o("button",{attrs:{"data-wall":"12"},key:43,on:{click:H||(i._m16=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-12.svg"},key:42},[])]),o("button",{attrs:{"data-wall":"4"},key:45,on:{click:j||(i._m17=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-4.svg"},key:44},[])]),o("button",{attrs:{"data-wall":"6"},key:47,on:{click:D||(i._m18=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-6.svg"},key:46},[])]),o("button",{attrs:{"data-wall":"14"},key:49,on:{click:S||(i._m19=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-14.svg"},key:48},[])])]),o("div",{key:59},[o("button",{attrs:{"data-wall":"13"},key:52,on:{click:P||(i._m20=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-13.svg"},key:51},[])]),o("button",{attrs:{"data-wall":"5"},key:54,on:{click:W||(i._m21=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-5.svg"},key:53},[])]),o("button",{attrs:{"data-wall":"7"},key:56,on:{click:B||(i._m22=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-7.svg"},key:55},[])]),o("button",{attrs:{"data-wall":"15"},key:58,on:{click:I||(i._m23=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-15.svg"},key:57},[])])])]):null,e.outsideActive?o("div",{classMap:{wall:!0},key:97},[o("div",{key:69},[o("button",{attrs:{"data-wall":"9"},key:62,on:{click:N||(i._m24=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-9.svg"},key:61},[])]),o("button",{attrs:{"data-wall":"1"},key:64,on:{click:Y||(i._m25=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-1.svg"},key:63},[])]),o("button",{attrs:{"data-wall":"3"},key:66,on:{click:X||(i._m26=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-3.svg"},key:65},[])]),o("button",{attrs:{"data-wall":"11"},key:68,on:{click:U||(i._m27=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-11.svg"},key:67},[])])]),o("div",{key:78},[o("button",{attrs:{"data-wall":"8"},key:71,on:{click:G||(i._m28=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-8.svg"},key:70},[])]),o("button",{attrs:{"data-wall":"0"},key:73,on:{click:V||(i._m29=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-0.svg"},key:72},[])]),o("button",{attrs:{"data-wall":"2"},key:75,on:{click:Z||(i._m30=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-2.svg"},key:74},[])]),o("button",{attrs:{"data-wall":"10"},key:77,on:{click:q||(i._m31=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-10.svg"},key:76},[])])]),o("div",{key:87},[o("button",{attrs:{"data-wall":"12"},key:80,on:{click:J||(i._m32=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-12.svg"},key:79},[])]),o("button",{attrs:{"data-wall":"4"},key:82,on:{click:K||(i._m33=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-4.svg"},key:81},[])]),o("button",{attrs:{"data-wall":"6"},key:84,on:{click:Q||(i._m34=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-6.svg"},key:83},[])]),o("button",{attrs:{"data-wall":"14"},key:86,on:{click:tt||(i._m35=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-14.svg"},key:85},[])])]),o("div",{key:96},[o("button",{attrs:{"data-wall":"13"},key:89,on:{click:st||(i._m36=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-13.svg"},key:88},[])]),o("button",{attrs:{"data-wall":"5"},key:91,on:{click:it||(i._m37=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-5.svg"},key:90},[])]),o("button",{attrs:{"data-wall":"7"},key:93,on:{click:nt||(i._m38=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-7.svg"},key:92},[])]),o("button",{attrs:{"data-wall":"15"},key:95,on:{click:ot||(i._m39=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/wall-outer-15.svg"},key:94},[])])])]):null,e.decalActive?o("div",{classMap:{wall:!0},key:134},[o("div",{key:106},[o("button",{attrs:{"data-wall":"9"},key:99,on:{click:at||(i._m40=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-stone.svg"},key:98},[])]),o("button",{attrs:{"data-wall":"1"},key:101,on:{click:lt||(i._m41=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-rubble-1.svg"},key:100},[])]),o("button",{attrs:{"data-wall":"3"},key:103,on:{click:dt||(i._m42=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-stone-hex.svg"},key:102},[])]),o("button",{attrs:{"data-wall":"11"},key:105,on:{click:ct||(i._m43=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:104},[])])]),o("div",{key:115},[o("button",{attrs:{"data-wall":"8"},key:108,on:{click:ut||(i._m44=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:107},[])]),o("button",{attrs:{"data-wall":"0"},key:110,on:{click:mt||(i._m45=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:109},[])]),o("button",{attrs:{"data-wall":"2"},key:112,on:{click:pt||(i._m46=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:111},[])]),o("button",{attrs:{"data-wall":"10"},key:114,on:{click:bt||(i._m47=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:113},[])])]),o("div",{key:124},[o("button",{attrs:{"data-wall":"12"},key:117,on:{click:ft||(i._m48=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:116},[])]),o("button",{attrs:{"data-wall":"4"},key:119,on:{click:yt||(i._m49=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:118},[])]),o("button",{attrs:{"data-wall":"6"},key:121,on:{click:kt||(i._m50=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:120},[])]),o("button",{attrs:{"data-wall":"14"},key:123,on:{click:wt||(i._m51=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:122},[])])]),o("div",{key:133},[o("button",{attrs:{"data-wall":"13"},key:126,on:{click:xt||(i._m52=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:125},[])]),o("button",{attrs:{"data-wall":"5"},key:128,on:{click:_t||(i._m53=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:127},[])]),o("button",{attrs:{"data-wall":"7"},key:130,on:{click:Ct||(i._m54=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:129},[])]),o("button",{attrs:{"data-wall":"15"},key:132,on:{click:Lt||(i._m55=d(e.tileWallHandler))}},[o("img",{attrs:{src:"resources/tiles/decal-empty.svg"},key:131},[])])])]):null])]),e.openDeleteComment?h("ui-modal",rt,{key:142},[h("ui-modal-body",ht,{key:138},[o("p",{key:137},[c("Are you sure you want to clear the comment?")])]),h("ui-modal-footer",gt,{key:141},[h("ui-button",et,{key:139,on:{click:Mt||(i._m56=d(e.cancelDeleteComment))}},[c("Cancel")]),h("ui-button",et,{props:{variant:"primary"},key:140,on:{click:Ot||(i._m57=d(e.confirmDeleteComment))}},[c("Delete")])])]):null,e.modalOpen?h("ui-modal",rt,{props:{width:"80%"},key:148},[h("ui-form",vt,{key:147,on:{change:Tt||(i._m58=d(e.updateComment)),submit:$t||(i._m59=d(e.submitComment))}},[h("ui-modal-body",ht,{key:144},[h("ui-textarea",Et,{props:{focus:!0,name:"comment",value:e.tile.comment},key:143},[])]),h("ui-modal-footer",gt,{key:146},[h("ui-button",et,{props:{submit:!0,variant:"primary"},key:145},[c("Update")])])])]):null]}var Mt,Ot=Object(i.registerTemplate)(Lt);function Tt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}Lt.stylesheets=[],c&&Lt.stylesheets.push.apply(Lt.stylesheets,c),Lt.stylesheetTokens={hostAttribute:"map-tile-_tile-host",shadowAttribute:"map-tile-_tile"};class $t{constructor(){Tt(this,"id",""),Tt(this,"file","")}get src(){return`resources/tiles/${this.file}.svg`}from(t){return"string"==typeof t?(this.id=t,this.file=t,this):(this.id=t.id,this.file=t.file,this)}}!function(t){t[t.None=0]="None",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=4]="Bottom",t[t.Left=8]="Left",t[t.TopRight=3]="TopRight",t[t.TopLeft=9]="TopLeft",t[t.BottomLeft=12]="BottomLeft",t[t.BottomRight=6]="BottomRight",t[t.TopU=11]="TopU",t[t.RightU=7]="RightU",t[t.BottomU=14]="BottomU",t[t.LeftU=13]="LeftU",t[t.TopBottom=5]="TopBottom",t[t.LeftRight=10]="LeftRight",t[t.All=15]="All"}(Mt||(Mt={}));var Ht=Mt;function jt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class At{constructor(){jt(this,"id",0),jt(this,"coordinate",[0,0]),jt(this,"gridCoordinate",[0,0])}get gridX(){return this.gridCoordinate[0]}get gridY(){return this.gridCoordinate[1]}}function Dt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class St{constructor(){Dt(this,"id",""),Dt(this,"name",""),Dt(this,"description",""),Dt(this,"author",""),Dt(this,"tiles",[]),Dt(this,"$tileCount",0)}get tileCount(){return this.$tileCount||this.tiles.length}set tileCount(t){this.$tileCount=t}get hash(){return`${this.width}, ${this.height}`}get addTiles(){if(0===this.tiles.length)return[];const t=[];this.iterateTiles(this.tiles[0],(e,s)=>{e.sides((e,i)=>{if(null===e){const e=this.getSideCoordinate(s,i);t.push(e)}})});const[e,s]=this.gridOffset;return t.filter(this.uniqueCoordinates).map((t,i)=>{const n=new At;return n.id=i,n.coordinate=t,n.gridCoordinate=[t[0]+e,t[1]+s],n})}uniqueCoordinates(t,e,s){return s.findIndex(e=>e[0]===t[0]&&e[1]===t[1])===e}min(t){return t.reduce((function(t,e){return Math.min(t,e)}))}max(t){return t.reduce((function(t,e){return Math.max(t,e)}))}get gridOffset(){return[Math.abs(this.min(this.tiles.map(t=>t.x)))+2,Math.abs(this.min(this.tiles.map(t=>t.y)))+2]}get minX(){return this.min(this.tiles.map(t=>t.x))}get maxX(){return this.max(this.tiles.map(t=>t.x))}get minY(){return this.min(this.tiles.map(t=>t.y))}get maxY(){return this.max(this.tiles.map(t=>t.y))}get width(){return 0===this.tiles.length?3:this.max(this.tiles.map(t=>t.x))-this.min(this.tiles.map(t=>t.x))+2}get height(){return 0===this.tiles.length?3:this.max(this.tiles.map(t=>t.y))-this.min(this.tiles.map(t=>t.y))+2}from(t){if(null===t)return this;if(this.id=t.id,this.name=t.name,this.description=t.description,this.author=t.author,t.tiles){this.tiles=t.tiles.map(t=>(new Wt).from(t)),this.iterateTiles(this.tiles[0],(t,[e,s])=>{t.setCoordinate(e,s),t.setWorld(this)});const[e,s]=this.gridOffset;this.tiles.forEach(t=>{t.setGridOffset(e,s)})}return t.tileCount&&(this.tileCount=t.tileCount),this}json(){return{id:this.id,name:this.name,description:this.description,author:this.author,tiles:this.tiles.map(t=>t.json())}}getTile(t,e){return this.tiles.find(s=>s.coordinate[0]===t&&s.coordinate[1]===e)||null}getSidesByCoordinate(t,e){return[this.getTile(t,e-1),this.getTile(t+1,e),this.getTile(t,e+1),this.getTile(t-1,e)]}getSideCoordinate([t,e],s){switch(s){case 0:return[t,e-1];case 1:return[t+1,e];case 2:return[t,e+1];case 3:return[t-1,e]}throw new Error("Invalid side")}getSides(t){return[this.tiles.find(e=>e.id[0]===t.id[1])||null,this.tiles.find(e=>e.id[0]===t.id[2])||null,this.tiles.find(e=>e.id[0]===t.id[3])||null,this.tiles.find(e=>e.id[0]===t.id[4])||null]}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}addTile(t,e,s){var i=this.getSidesByCoordinate(t,e),n=this.uuidv4();const o=new Wt;o.setCoordinate(t,e);const r=[...i.map(t=>t?t.id[0]:null)];o.id=[n,r[0],r[1],r[2],r[3]],o.layers=s||[(new $t).from("paper-tan"),(new $t).from("tile-lines-1")],o.setWorld(this),this.tiles.push(o),i[0]&&(i[0].id[3]=n),i[1]&&(i[1].id[4]=n),i[2]&&(i[2].id[1]=n),i[3]&&(i[3].id[2]=n);const[a,l]=this.gridOffset;this.tiles.forEach(t=>t.setGridOffset(a,l))}removeTile(t){var e=this.getSides(t);this.tiles.splice(this.tiles.findIndex(e=>e.id[0]===t.id[0]),1),e[0]&&(e[0].id[3]=null),e[1]&&(e[1].id[4]=null),e[2]&&(e[2].id[1]=null),e[3]&&(e[3].id[2]=null)}canRemove(t){return 1!==this.tiles.length&&this.getSides(t).map(e=>{if(e){var s=0;return this.iterateTiles(e,()=>s++,[t]),s}return null}).filter(t=>null!==t).every(t=>t===this.tiles.length-1)}iterateTiles(t,e,s=[]){const i=(t,s,[n,o])=>{t.splice(t.findIndex(t=>t.id[0]===s.id[0]),1)[0],e(s,[n,o]);var[,r,a,l,d]=s.id;[r,a,l,d].forEach((e,s)=>{if(null!==e){var r=t.find(t=>t.id[0]===e);if(r){const e=this.getSideCoordinate([n,o],s);i(t,r,e)}}})};var n=[...this.tiles];if(s){var o=s.map(t=>t.id[0]);n=n.filter(t=>!o.includes(t.id[0]))}i(n,t,[0,0])}getCollision(t,e){var s=t.collision,i=[1===s||3===s||5===s||7===s||9===s||11===s||13===s||15===s?1:0,2===s||3===s||6===s||7===s||10===s||11===s||14===s||15===s?1:0,4===s||5===s||6===s||7===s||12===s||13===s||14===s||15===s?1:0,8===s||9===s||10===s||11===s||12===s||13===s||14===s||15===s?1:0];return i[e]=0===i[e]?1:0,1*i[0]+2*i[1]+4*i[2]+8*i[3]}}function Pt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class Wt{constructor(){Pt(this,"id",[null,null,null,null,null]),Pt(this,"comment",null),Pt(this,"collision",Ht.None),Pt(this,"layers",[]),Pt(this,"world",new St),Pt(this,"$coordinate",[0,0]),Pt(this,"$gridOffset",[0,0])}get hash(){return`${this.gridX}, ${this.gridY}: ${this.layersCount}: ${this.removable}`}get coordinate(){return this.$coordinate}setCoordinate(t,e){this.$coordinate=[t,e]}get x(){return this.coordinate[0]}get y(){return this.coordinate[1]}get gridOffset(){return this.$gridOffset}get gridCoordinate(){return[this.$coordinate[0]+this.$gridOffset[0],this.$coordinate[1]+this.$gridOffset[1]]}get gridX(){return this.$coordinate[0]+this.$gridOffset[0]+1}get gridY(){return this.$coordinate[1]+this.$gridOffset[1]+1}setGridOffset(t,e){this.$gridOffset=[t,e]}sides(t){const[,e,s,i,n]=this.id;[e,s,i,n].forEach(t)}get tileId(){return this.id[0]}get topId(){return this.id[1]}get rightId(){return this.id[2]}get bottomId(){return this.id[3]}get leftId(){return this.id[4]}setWorld(t){this.world=t}get removable(){return this.world.canRemove(this)}get layersCount(){return this.layers.length}from(t){return this.id=t.id,this.comment=t.comment||null,this.layers=t.layers.map(t=>(new $t).from(t)),this}json(){return{id:this.id,comment:this.comment||null,layers:this.layers.map(t=>t.id)}}}function Ft(t,e){let s;function i(t){s.next(t)}function n(t){s.error(t)}const o={subscribe:o=>(s=o,t&&i(t),e&&n(e),{unsubscribe:()=>{}})};return{next:i,error:n,complete:function(){s.complete()},observable:o}}function Bt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class It{constructor(){Bt(this,"id",0),Bt(this,"message",""),Bt(this,"seconds",0),Bt(this,"variant",""),Bt(this,"dismissable",!0)}from(t){return this.id=t.id,this.message=t.message,this.seconds=t.seconds,this.variant=t.variant,this.dismissable=t.dismissable,this}}const Nt=[],Rt=Ft([],void 0);function Yt(t){return Rt.observable}let Xt=0;function Ut(t){return t.id=Xt++,Nt.push(t),Rt.next(Nt),t.seconds&&setTimeout(()=>{Zt(t.id)},1e3*t.seconds),t.id}function Gt(t,e=0){var s=new It;return s.message=t,s.seconds=e,Ut(s)}function Vt(t,e=0){var s=new It;return s.message=t,s.seconds=e,s.variant="error",Ut(s)}function zt(t,e=0){var s=new It;return s.message=t,s.seconds=e,s.variant="loading",s.dismissable=!1,Ut(s)}function Zt(t){Nt.splice(Nt.findIndex(e=>e.id===t),1),Rt.next(Nt)}function qt(t){return new Promise((t,e)=>{const s=Yt();if(!s)return e(new Error("Dev: invalid observable"));s.subscribe({next:e=>t(e),error:t=>e(t),complete:t})})}Object(n.register)(qt,(function(t){let e,s;t.dispatchEvent(new n.ValueChangedEvent({data:void 0,error:void 0}));const i={next:e=>t.dispatchEvent(new n.ValueChangedEvent({data:e,error:void 0})),error:e=>t.dispatchEvent(new n.ValueChangedEvent({data:void 0,error:e}))};t.addEventListener("connect",()=>{const t=Yt();t&&(e=t.subscribe(i))}),t.addEventListener("disconnect",()=>{e.unsubscribe()}),t.addEventListener("config",t=>{s=t,e&&(e.unsubscribe(),e=void 0);const n=Yt();n&&(e=n.subscribe(i))})}));class Jt extends i.LightningElement{constructor(...t){super(...t),this.isLoading=!0,this.mdiCommentRemove=K.e,this.mdiDelete=K.f,this.mdiPencil=K.l,this.mdiCommentPlus=K.d,this.mdiBorderAll=K.b,this.mdiBorderInside=K.c,this.mdiStarOutline=K.n,this.tile=new Wt,this.hash="",this.openDeleteComment=!1,this.insideActive=!0,this.outsideActive=!1,this.decalActive=!1,this.modalOpen=!1}get x(){return this.tile.coordinate[0]}get y(){return this.tile.coordinate[1]}get removable(){return this.tile.removable}get layersCount(){return this.tile.layers.length}get computedClass(){return"tile"}renderedCallback(){const[t,e]=this.tile.gridCoordinate||[0,0],s=this.template.host;s.style.setProperty("--column",`${t}`),s.style.setProperty("--row",`${e}`)}handleClick(){console.log(this.tile)}handleDelete(){this.dispatchEvent(new CustomEvent("deletetile",{detail:{tile:this.tile},bubbles:!0,composed:!0}))}handleComment(){this.openDeleteComment=!0}cancelDeleteComment(){this.openDeleteComment=!1}confirmDeleteComment(){this.tile.comment="",this.openDeleteComment=!1,Gt("Deleted Comment",3)}tileWallHandler(t){const e=t.currentTarget,s=new $t;this.insideActive?(s.id=`wall-inner-${e.dataset.wall}-1`,s.file=`wall-inner-${e.dataset.wall}-1`):(s.id=`wall-outer-${e.dataset.wall}-1`,s.file=`wall-outer-${e.dataset.wall}-1`),this.tile.layers.push(s),this.dispatchEvent(new CustomEvent("updatetile",{detail:{},bubbles:!0,composed:!0}))}handleToggleInside(t){this.insideActive=!0,this.outsideActive=!1,this.decalActive=!1,t.stopPropagation()}handleToggleOutside(t){this.insideActive=!1,this.outsideActive=!0,this.decalActive=!1,t.stopPropagation()}handleToggleDecal(t){this.insideActive=!1,this.outsideActive=!1,this.decalActive=!0,t.stopPropagation()}handleEditComment(t){this.modalOpen=!0}updateComment(t){console.log(t.detail)}submitComment(t){const{inputs:e}=t.detail;this.tile.comment=e.find(t=>"comment"===t.name).value,this.modalOpen=!1}}Object(i.registerDecorators)(Jt,{publicProps:{tile:{config:0},hash:{config:0}},track:{isLoading:1,mdiCommentRemove:1,mdiDelete:1,mdiPencil:1,mdiCommentPlus:1,mdiBorderAll:1,mdiBorderInside:1,mdiStarOutline:1,openDeleteComment:1,insideActive:1,outsideActive:1,decalActive:1,modalOpen:1}});var Kt=Object(i.registerComponent)(Jt,{tmpl:Ot});var Qt=[function(t,e,s){return(s?":host{display:flex;grid-column:var(--column,1);grid-row:var(--row,1)}":t+"{display:flex;grid-column:var(--column,1);grid-row:var(--row,1)}")+(s?":host,button"+e+"{width:4rem;height:4rem}":t+",button"+e+"{width:4rem;height:4rem}")+"button"+e+"{padding:0;outline:none;background:rgba(0,0,100,.1);background-clip:content-box;cursor:inherit;color:rgba(0,0,100,.2);border:0}button:hover"+e+"{border-color:#fff;box-shadow:inset 0 0 .5rem rgba(0,0,0,.2);background:rgba(0,0,100,.15);color:rgba(0,0,100,.3)}"}];function te(t,e,s,i){const{d:n,t:o,b:r,h:a}=t,{_m0:l}=i;return[a("button",{className:e.computedClass,key:0,on:{click:l||(i._m0=r(e.handleClick))}},[n(e.x),o(", "),n(e.y)])]}var ee=Object(i.registerTemplate)(te);te.stylesheets=[],Qt&&te.stylesheets.push.apply(te.stylesheets,Qt),te.stylesheetTokens={hostAttribute:"map-addTile-_addTile-host",shadowAttribute:"map-addTile-_addTile"};class se extends i.LightningElement{constructor(...t){super(...t),this.tile=null}get x(){return this.tile.coordinate[0]}get y(){return this.tile.coordinate[1]}get computedClass(){return""}renderedCallback(){const[t,e]=this.tile.gridCoordinate||[0,0],s=this.template.host;s.style.setProperty("--column",t),s.style.setProperty("--row",e)}handleClick(){this.dispatchEvent(new CustomEvent("addtile",{detail:{x:this.tile.coordinate[0],y:this.tile.coordinate[1]},bubbles:!0,composed:!0}))}}Object(i.registerDecorators)(se,{publicProps:{tile:{config:0}}});var ie=Object(i.registerComponent)(se,{tmpl:ee});var ne=[function(t,e,s){return(s?":host{position:fixed;top:1rem;right:1rem;width:20rem}":t+"{position:fixed;top:1rem;right:1rem;width:20rem}")+"ul"+e+"{list-style:none;margin:0;padding:0}"}];var oe=[function(t,e,s){return"button"+e+"{display:block;width:100%;text-align:left;position:relative;border-radius:.25rem;margin-bottom:.5rem;background:#fff;border:0;padding:1rem;box-shadow:0 1px .5rem rgba(0,0,0,.3);outline:0;cursor:pointer}button:hover"+e+"{box-shadow:0 1px .5rem rgba(0,0,0,.4)}button"+e+" svg"+e+"{fill:#444}button:hover"+e+" svg"+e+"{fill:#1592e6}button:active"+e+"{box-shadow:0 1px .5rem rgba(0,0,0,.5)}button"+e+" svg.loading"+e+"{display:none}span"+e+"{display:block;text-align:left;position:relative;border-radius:.25rem;margin-bottom:.5rem;background:#fff;border:0;padding:1rem;box-shadow:0 1px .5rem rgba(0,0,0,.3);outline:0}span.variant-loading"+e+"{padding-left:2.75rem}span.variant-loading"+e+" svg.loading"+e+"{fill:#1592e6}button.variant-loading"+e+" svg.loading"+e+"{display:none}button.variant-error"+e+"{background:#ff6961;color:#fff}button.variant-error"+e+" svg.close"+e+"{fill:#c23b23}button.variant-error:hover"+e+" svg.close"+e+"{fill:#fff}button.variant-warning"+e+"{background:#fdf7c2}button.variant-warning"+e+" svg.close"+e+"{fill:#cec78d}button.variant-warning:hover"+e+" svg.close"+e+"{fill:#444}button.variant-loading"+e+" svg.loading"+e+"{display:initial}button.variant-loading"+e+" svg.close"+e+"{display:none}button.seconds-1"+e+":after,button.seconds-2"+e+":after,button.seconds-3"+e+":after,button.seconds-4"+e+":after,button.seconds-5"+e+':after{content:" ";position:absolute;background:rgba(21,146,230,.5);height:.25rem;width:2rem;left:0;bottom:0;overflow:hidden}button.seconds-1'+e+":after{animation:a 1s linear}button.seconds-2"+e+":after{animation:a 2s linear}button.seconds-3"+e+":after{animation:a 3s linear}button.seconds-4"+e+":after{animation:a 4s linear}button.seconds-5"+e+":after{animation:a 5s linear}svg.close"+e+"{right:.5rem}svg.close"+e+",svg.loading"+e+"{position:absolute;width:1.5rem;height:1.5rem;top:.75rem}svg.loading"+e+"{left:.75rem;animation:b 2s infinite linear}@keyframes a{0%{width:0}to{width:20rem}}@keyframes b{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}"}];function re(t,e,s,i){const{h:n,d:o,b:r}=t,{_m0:a}=i;return[e.dismissable?n("button",{className:e.computedClass,attrs:{"data-id":e.toast.id},key:4,on:{click:a||(i._m0=r(e.handleClick))}},[n("svg",{classMap:{loading:!0},attrs:{viewBox:"0 0 24 24"},key:1},[n("path",{attrs:{d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},key:0},[])]),o(e.toast.message),n("svg",{classMap:{close:!0},attrs:{viewBox:"0 0 24 24"},key:3},[n("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},key:2},[])])]):null,e.dismissable?null:n("span",{className:e.computedClass,key:7},[n("svg",{classMap:{loading:!0},attrs:{viewBox:"0 0 24 24"},key:6},[n("path",{attrs:{d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"},key:5},[])]),o(e.toast.message)])]}var ae=Object(i.registerTemplate)(re);re.stylesheets=[],oe&&re.stylesheets.push.apply(re.stylesheets,oe),re.stylesheetTokens={hostAttribute:"ui-toastItem-_toastItem-host",shadowAttribute:"ui-toastItem-_toastItem"};class le extends i.LightningElement{constructor(...t){super(...t),this.toast=void 0}get computedClass(){var t=[`variant-${this.toast.variant}`];return this.toast.seconds>0&&t.push(`seconds-${this.toast.seconds}`),t.join(" ")}get dismissable(){return this.toast.dismissable}handleClick(t){Zt(parseInt(t.target.dataset.id))}}Object(i.registerDecorators)(le,{publicProps:{toast:{config:0}}});var de=Object(i.registerComponent)(le,{tmpl:ae});function he(t,e,s,i){const{c:n,k:o,h:r,i:a}=t;return[r("ul",{key:2},a(e.toasts,(function(t){return r("li",{key:o(1,t.id)},[n("ui-toast-item",de,{props:{toast:t},key:0},[])])})))]}var ce=Object(i.registerTemplate)(he);he.stylesheets=[],ne&&he.stylesheets.push.apply(he.stylesheets,ne),he.stylesheetTokens={hostAttribute:"ui-toast-_toast-host",shadowAttribute:"ui-toast-_toast"};class ue extends i.LightningElement{constructor(...t){super(...t),this.toastWire=void 0}get toasts(){return this.toastWire.data}}Object(i.registerDecorators)(ue,{wire:{toastWire:{adapter:qt}}});var me=Object(i.registerComponent)(ue,{tmpl:ce});var pe=[function(t,e,s){return(s?":host{display:inline-flex;vertical-align:middle}":t+"{display:inline-flex;vertical-align:middle}")+(s?":host(.block){display:flex}":t+".block{display:flex}")}];function ge(t,e,s,i){const{b:n,s:o}=t,{_m0:r,_m1:a}=i;return[o("",{key:0,on:{slotchange:r||(i._m0=n(e.handleSlotChange))}},[],s),e.isOpen?o("menu",{attrs:{name:"menu"},key:1,on:{slotchange:a||(i._m1=n(e.handleMenuSlotChange))}},[],s):null]}var be=Object(i.registerTemplate)(ge);ge.slots=["","menu"],ge.stylesheets=[],pe&&ge.stylesheets.push.apply(ge.stylesheets,pe),ge.stylesheetTokens={hostAttribute:"ui-picker-_picker-host",shadowAttribute:"ui-picker-_picker"};const fe="bottom-start";class ye extends i.LightningElement{constructor(){super(),this.$menu=null,this.$menuFocus=!1,this.$menuButton=null,this.block=!1,this.placement=fe,this.offsetTop=0,this.offsetLeft=0,this.isOpen=!1,this.flipped=!1,this.clickHandler=this.handleClick.bind(this),this.mouseDownHandler=this.handleMouseDown.bind(this),this.contextMenuHandler=this.handleContextMenu.bind(this),this.mouseEnterMenuHandler=this.handleMouseEnterMenu.bind(this),this.mouseLeaveMenuHandler=this.handleMouseLeaveMenu.bind(this)}renderedCallback(){this.block&&this.template.host.classList.add("block")}handleClick(t){const e=t.currentTarget;console.log(t.target,e),this.isOpen&&this.$menuFocus?this.isOpen=!1:this.isOpen=!0}handleContextMenu(){this.isOpen=!1}handleMouseDown(t){this.$menuFocus||(this.isOpen=!1,document.removeEventListener("mousedown",this.mouseDownHandler),document.removeEventListener("contextmenu",this.contextMenuHandler))}handleSlotChange(t){const e=this.template.childNodes[1].assignedElements()[0];e.addEventListener("click",this.clickHandler),e.addEventListener("mouseenter",this.mouseEnterMenuHandler),e.addEventListener("mouseleave",this.mouseLeaveMenuHandler),e.classList.add("picker"),e.classList.add(`picker-${this.placement}`),this.block&&e.classList.add("block"),this.$menuButton=e}handleMenuSlotChange(t){const e=this.template.childNodes[2];if(e){const t=e.assignedElements();if(0===t.length)throw new Error("picker missing menu slot.");if(t.length>1)throw new Error("picker must only contain one root element in the menu slot.");const s=t[0];document.addEventListener("mousedown",this.mouseDownHandler),document.addEventListener("contextmenu",this.contextMenuHandler),new g.a(this.$menuButton,s,{placement:this.placement,modifiers:{computeStyle:{gpuAcceleration:!1},offset:{offset:`${this.offsetLeft}px, ${this.offsetTop}px`}},onCreate:this.onPopperCreate.bind(this),onUpdate:this.onPopperUpdate.bind(this)}),s.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),s.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),s.addEventListener("click",this.handleMouseClick.bind(this)),this.$menu=s}}onPopperCreate(t){this.flipped=t.flipped}onPopperUpdate(t){this.$menuButton.classList.remove(`picker-${this.placement}`),this.$menuButton.classList.add(`picker-${t.placement}`),this.placement=t.placement}handleMouseEnter(){this.$menuFocus=!0}handleMouseLeave(){this.$menuFocus=!1}handleMouseClick(){this.isOpen=!1,document.removeEventListener("mousedown",this.mouseDownHandler),document.removeEventListener("contextmenu",this.contextMenuHandler)}handleMouseEnterMenu(){this.$menuFocus=!0}handleMouseLeaveMenu(){this.$menuFocus=!1}}Object(i.registerDecorators)(ye,{publicProps:{block:{config:0},placement:{config:0},offsetTop:{config:0},offsetLeft:{config:0}},track:{isOpen:1},fields:["$menu","$menuFocus","$menuButton","flipped"]});var ke=Object(i.registerComponent)(ye,{tmpl:be});var ve=[function(t,e,s){return(s?":host{display:flex;flex-direction:column;border:1px solid #ddd;border-radius:.5rem}":t+"{display:flex;flex-direction:column;border:1px solid #ddd;border-radius:.5rem}")+(s?":host(.shadow-1){box-shadow:0 1px .25rem rgba(0,0,0,.2)}":t+".shadow-1{box-shadow:0 1px .25rem rgba(0,0,0,.2)}")+(s?":host(.shadow-2){box-shadow:0 1px .5rem rgba(0,0,0,.3)}":t+".shadow-2{box-shadow:0 1px .5rem rgba(0,0,0,.3)}")+(s?":host(.shadow-3){box-shadow:0 1px .75rem rgba(0,0,0,.4)}":t+".shadow-3{box-shadow:0 1px .75rem rgba(0,0,0,.4)}")}];function we(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var xe=Object(i.registerTemplate)(we);we.slots=[""],we.stylesheets=[],ve&&we.stylesheets.push.apply(we.stylesheets,ve),we.stylesheetTokens={hostAttribute:"ui-card-_card-host",shadowAttribute:"ui-card-_card"};class _e extends i.LightningElement{constructor(...t){super(...t),this._shadow=0}get shadow(){return this._shadow}set shadow(t){this._shadow=t,this.updateHostClass()}updateHostClass(){this.template.host.classList.remove("shadow-1"),this.template.host.classList.remove("shadow-2"),this.template.host.classList.remove("shadow-3"),this.template.host.classList.add(`shadow-${this._shadow}`)}}Object(i.registerDecorators)(_e,{publicProps:{shadow:{config:3}},fields:["_shadow"]});var Ce=Object(i.registerComponent)(_e,{tmpl:xe});var Ee=[function(t,e,s){return s?":host{font-size:1.25rem;padding:1rem 1rem .5rem}":t+"{font-size:1.25rem;padding:1rem 1rem .5rem}"}];function Le(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var Me=Object(i.registerTemplate)(Le);Le.slots=[""],Le.stylesheets=[],Ee&&Le.stylesheets.push.apply(Le.stylesheets,Ee),Le.stylesheetTokens={hostAttribute:"ui-cardHeader-_cardHeader-host",shadowAttribute:"ui-cardHeader-_cardHeader"};var Oe=Object(i.registerComponent)(class extends i.LightningElement{},{tmpl:Me});var Te=[function(t,e,s){return s?":host{padding:0 1rem}":t+"{padding:0 1rem}"}];function $e(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var He=Object(i.registerTemplate)($e);$e.slots=[""],$e.stylesheets=[],Te&&$e.stylesheets.push.apply($e.stylesheets,Te),$e.stylesheetTokens={hostAttribute:"ui-cardBody-_cardBody-host",shadowAttribute:"ui-cardBody-_cardBody"};var je=Object(i.registerComponent)(class extends i.LightningElement{},{tmpl:He});var Ae=[function(t,e,s){return s?":host{padding:.5rem 1rem 1rem}":t+"{padding:.5rem 1rem 1rem}"}];function De(t,e,s,i){const{s:n}=t;return[n("",{key:0},[],s)]}var Se=Object(i.registerTemplate)(De);De.slots=[""],De.stylesheets=[],Ae&&De.stylesheets.push.apply(De.stylesheets,Ae),De.stylesheetTokens={hostAttribute:"ui-cardFooter-_cardFooter-host",shadowAttribute:"ui-cardFooter-_cardFooter"};var Pe=Object(i.registerComponent)(class extends i.LightningElement{},{tmpl:Se});var We=[function(t,e,s){return s?":host{position:fixed;bottom:0;right:0}":t+"{position:fixed;bottom:0;right:0}"}];function Fe(t,e,s,i){const{t:n,h:o}=t;return[o("div",{key:0},[n("Testing")]),o("div",{key:1},[n("Details")])]}var Be=Object(i.registerTemplate)(Fe);Fe.stylesheets=[],We&&Fe.stylesheets.push.apply(Fe.stylesheets,We),Fe.stylesheetTokens={hostAttribute:"map-details-_details-host",shadowAttribute:"map-details-_details"};class Ie extends i.LightningElement{constructor(...t){super(...t),this.name=null,this.author=null}}Object(i.registerDecorators)(Ie,{publicProps:{name:{config:0},author:{config:0}}});var Ne=Object(i.registerComponent)(Ie,{tmpl:Be});function Re(t,e,s,i){const{k:n,c:o,i:r,f:a,t:l,h:d,b:c,d:u}=t,{_m0:m,_m1:p,_m2:g,_m3:b,_m4:f,_m5:k,_m6:v,_m7:w,_m8:x,_m9:C,_m10:E,_m11:L,_m12:O}=i;return[o("map-world",h,{props:{world:e.world,hash:e.world.hash},key:2},a([r(e.world.tiles,(function(t){return o("map-tile",Kt,{props:{tile:t,hash:t.hash},key:n(0,t.tileId)},[])})),r(e.world.addTiles,(function(t){return o("map-add-tile",ie,{props:{tile:t},key:n(1,t.id)},[])}))])),e.tileId?null:o("ui-modal",rt,{key:7},[d("h1",{key:3},[l("Load Map")]),d("p",{key:4},[l("Select Map Modal Here")]),o("ui-button",et,{key:6,on:{click:m||(i._m0=c(e.loadMap))}},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiScript},key:5},[]),l("Load Mock Map")])]),o("ui-toast",me,{key:8},[]),d("section",{key:19},[d("h2",{key:9},[l("Buttons")]),o("ui-button",et,{key:11,on:{click:p||(i._m1=c(e.fireToast))}},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiMessageText},key:10},[]),l("Fire Toast")]),l(""),o("ui-button",et,{props:{variant:"primary"},key:13,on:{click:g||(i._m2=c(e.fireToast3))}},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiMessageText},key:12},[]),l("Fire Toast 3 Seconds")]),l(""),o("ui-button",et,{props:{variant:"primary"},key:15,on:{click:b||(i._m3=c(e.fireToast3))}},[o("ui-icon",F,{props:{path:e.mdiMessageText},key:14},[])]),d("h3",{key:16},[l("Block")]),o("ui-button",et,{props:{block:!0},key:18,on:{click:f||(i._m4=c(e.fireToast))}},[o("ui-icon",F,{attrs:{slot:"right"},props:{path:e.mdiMessageText},key:17},[]),l("Fire Toast (block)")])]),d("section",{key:39},[d("h2",{key:20},[l("Button Group")]),o("ui-button-group",z,{key:23},[o("ui-button",et,{key:21,on:{click:k||(i._m5=c(e.fireErrorToast))}},[l("Fire Error Toast")]),o("ui-button",et,{key:22,on:{click:v||(i._m6=c(e.fireWarningToast))}},[l("Fire Warning Toast")])]),l(""),o("ui-button-group",z,{key:30},[o("ui-button",et,{props:{active:!0},key:25},[o("ui-icon",F,{props:{path:e.mdiFormatAlignLeft},key:24},[])]),o("ui-button",et,{key:27},[o("ui-icon",F,{props:{path:e.mdiFormatAlignCenter},key:26},[])]),o("ui-button",et,{key:29},[o("ui-icon",F,{props:{path:e.mdiFormatAlignRight},key:28},[])])]),d("h3",{key:31},[l("Block")]),o("ui-button-group",z,{props:{block:!0},key:38},[o("ui-button",et,{props:{active:!0},key:33},[o("ui-icon",F,{props:{path:e.mdiFormatAlignLeft},key:32},[])]),o("ui-button",et,{key:35},[o("ui-icon",F,{props:{path:e.mdiFormatAlignCenter},key:34},[])]),o("ui-button",et,{key:37},[o("ui-icon",F,{props:{path:e.mdiFormatAlignRight},key:36},[])])])]),d("section",{key:61},[d("h2",{key:40},[l("Button Menu")]),o("ui-dropdown",y,{key:45},[o("ui-button",et,{key:41},[l("Menu")]),o("ui-menu",M,{attrs:{slot:"menu"},key:44},[o("ui-menu-item",A,{key:42},[l("Option 1")]),o("ui-menu-item",A,{key:43},[l("Option 2")])])]),l(""),o("ui-dropdown",y,{key:51},[o("ui-button",et,{props:{variant:"primary"},key:47},[o("ui-icon",F,{props:{path:e.mdiMessageText},key:46},[])]),o("ui-menu",M,{attrs:{slot:"menu"},key:50},[o("ui-menu-item",A,{key:48},[l("Option 1")]),o("ui-menu-item",A,{key:49},[l("Option 2")])])]),d("h3",{key:52},[l("Block")]),o("ui-dropdown",y,{props:{block:!0},key:60},[o("ui-button",et,{props:{variant:"primary"},key:54},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiMessageText},key:53},[]),l("Block Menu")]),o("ui-menu",M,{attrs:{slot:"menu"},key:59},[o("ui-menu-item",A,{key:56},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiScript},key:55},[]),l("Option 1")]),o("ui-menu-item",A,{key:58},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiScript},key:57},[]),l("Option 2")])])])]),d("section",{key:66},[d("h2",{key:62},[l("Picker")]),o("ui-picker",ke,{key:65},[o("ui-button",et,{key:63},[l("Click Here")]),d("div",{attrs:{slot:"menu"},key:64},[l("Stuff here!")])])]),d("section",{key:75},[d("h2",{key:67},[l("Context Menu")]),d("p",{key:68},[l("Right click the button below.")]),o("ui-context-menu",_,{key:74},[d("button",{key:69},[l("Right Click Me")]),o("ui-menu",M,{attrs:{slot:"menu"},key:73},[o("ui-menu-item",A,{key:70},[l("Fake Option 1")]),o("ui-menu-item",A,{key:71},[l("Fake Option 2")]),o("ui-menu-item",A,{key:72},[l("Fake Option 3")])])])]),d("section",{key:86},[d("h2",{key:76},[l("Card")]),o("ui-card",Ce,{props:{shadow:e.cardShadow},key:85},[o("ui-card-header",Oe,{key:77},[l("Header")]),o("ui-card-body",je,{key:79},[d("p",{key:78},[l("Body Content")])]),o("ui-card-footer",Pe,{key:84},[o("ui-button",et,{attrs:{"data-shadow":"0"},key:80,on:{click:w||(i._m7=c(e.handleShadowClick))}},[l("Shadow 0")]),l(""),o("ui-button",et,{attrs:{"data-shadow":"1"},key:81,on:{click:x||(i._m8=c(e.handleShadowClick))}},[l("Shadow 1")]),l(""),o("ui-button",et,{attrs:{"data-shadow":"2"},key:82,on:{click:C||(i._m9=c(e.handleShadowClick))}},[l("Shadow 2")]),l(""),o("ui-button",et,{attrs:{"data-shadow":"3"},key:83,on:{click:E||(i._m10=c(e.handleShadowClick))}},[l("Shadow 3")])])])]),d("section",{key:91},[d("h2",{key:87},[l("Load Map")]),o("ui-button",et,{key:89,on:{click:L||(i._m11=c(e.loadMap))}},[o("ui-icon",F,{attrs:{slot:"left"},props:{path:e.mdiScript},key:88},[]),l("Load Mock Map")]),l(""),o("ui-button",et,{key:90,on:{click:O||(i._m12=c(e.loadMap2))}},[l("Load Mock Error")])]),o("map-details",Ne,{props:{name:"Foo"},key:92},[]),d("section",{key:94},[d("h2",{key:93},[l("Map Data ("),u(e.tileCount),l(")")]),u(e.data)])]}var Ye=Object(i.registerTemplate)(Re);function Xe(t){if(!(t&&"id"in t))return;const e=Ft(void 0,void 0);return null!==t.id&&fetch(`mock/mock.${t.id}.json`).then(t=>t.json()).then(t=>{console.log(t),e.next(t)},()=>{e.error({message:"Failed to load map."})}),e.observable}function Ue(t){return new Promise((e,s)=>{const i=Xe(t);if(!i)return s(new Error("Dev: id required"));i.subscribe({next:t=>e(t),error:t=>s(t),complete:e})})}Re.stylesheets=[],o&&Re.stylesheets.push.apply(Re.stylesheets,o),Re.stylesheetTokens={hostAttribute:"map-app-_app-host",shadowAttribute:"map-app-_app"},Object(n.register)(Ue,(function(t){let e,s;t.dispatchEvent(new n.ValueChangedEvent({data:void 0,error:void 0}));const i={next:e=>t.dispatchEvent(new n.ValueChangedEvent({data:e,error:void 0})),error:e=>t.dispatchEvent(new n.ValueChangedEvent({data:void 0,error:e}))};t.addEventListener("connect",()=>{const t=Xe(s);t&&(e=t.subscribe(i))}),t.addEventListener("disconnect",()=>{e.unsubscribe()}),t.addEventListener("config",t=>{s=t,e&&(e.unsubscribe(),e=void 0);const n=Xe(s);n&&(e=n.subscribe(i))})}));class Ge extends i.LightningElement{function({error:t,data:e}){e&&(this.world=(new St).from(e),console.log(this.world.addTiles),Zt(this.loadingToastId)),t&&(this.world=new St,this.tileId=null,Vt("Failed to load map!",5e3),Zt(this.loadingToastId))}constructor(){super(),this.tile={complex:"object"},this.tileId=null,this.tileCount=0,this.world=new St,this.mdiAccount=K.a,this.mdiMessageText=K.k,this.mdiScript=K.m,this.mdiFormatAlignLeft=K.h,this.mdiFormatAlignRight=K.i,this.mdiFormatAlignCenter=K.g,this.cardShadow="0",this.addTileHandler=this.handleAddTile.bind(this),this.updateTileHandler=this.handleUpdateTile.bind(this),this.deleteTileHandler=this.handleDeleteTile.bind(this)}connectedCallback(){this.addEventListener("addtile",this.addTileHandler),this.addEventListener("updatetile",this.updateTileHandler),this.addEventListener("deletetile",this.deleteTileHandler)}handleAddTile(t){const{x:e,y:s}=t.detail;this.world.addTile(e,s,null),this.tileCount=this.world.tileCount}handleUpdateTile(t){this.tileCount+=this.tileCount}handleDeleteTile(t){this.world.removeTile(t.detail.tile),this.tileCount=this.world.tileCount,console.log("deleted")}get data(){return JSON.stringify(this.world.json())}loadMap(){this.tileId="world",this.loadingToastId=zt("Loading Map...")}loadMap2(){this.tileId="world1",this.loadingToastId=zt("Loading Map...")}fireToast(){Gt("Toast Message")}fireToast3(){Gt("Toast Message 3 seconds",3)}fireErrorToast(){Vt("Toast Error Message")}fireWarningToast(){!function(t,e=0){var s=new It;s.message=t,s.seconds=e,s.variant="warning",Ut(s)}("Toast Warning Message")}handleShadowClick({target:t}){const e=t.dataset.shadow;this.cardShadow=e}}Object(i.registerDecorators)(Ge,{wire:{function:{adapter:Ue,params:{id:"tileId"},static:{},method:1}},track:{tile:1,tileId:1,tileCount:1,world:1,mdiAccount:1,mdiMessageText:1,mdiScript:1,mdiFormatAlignLeft:1,mdiFormatAlignRight:1,mdiFormatAlignCenter:1,cardShadow:1}});var Ve=Object(i.registerComponent)(Ge,{tmpl:Ye});Object(n.registerWireService)(i.register),customElements.define("map-app",Object(i.buildCustomElementConstructor)(Ve))}});